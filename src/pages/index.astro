---
import Layout from '../layouts/Layout.astro';
import 'bootstrap/dist/css/bootstrap.min.css';
import { Badge, Button,Card } from 'react-bootstrap';
import {getCollection, z, type CollectionEntry} from "astro:content"
import { Image } from 'astro:assets';


const linksRaw = await getCollection("links");
const links = linksRaw.sort((a, b) => a.data.order - b.data.order);
const projects = await getCollection("projects");
const vita = await getCollection("vita");
---

<Layout title="Welcome to Astro.">
	
	<main class="flex flex-col align-middle">
		<h1 class="text-center">Nick Hermann</h1>
		{links.map((link, index) => (
			<Button variant={index == 0 ? 'primary' : 'outline-primary'} className='mb-3' href={link.data.url}>
				<div class="flex flex-row justify-between">
					<Image src={link.data.icon} alt={link.data.text} height={24}/>

					{link.data.text}
					<Image class="opacity-0" src={link.data.icon} alt={link.data.text} height={24}/>
				</div>
			</Button>
		))}
		<div class="h-6"></div>
		<h2 class="text-center">Projekte</h2>
		{projects.map((project) => (
			<Card className='mb-3'>
				<Card.Body>
					<Card.Title>{project.data.title}</Card.Title>
					<Card.Text>{project.data.description}</Card.Text>
					{project.data.tags.map((tag) => (
						<Badge  className='mr-2 mb-2'>{tag}</Badge>
					))}
				</Card.Body>
			</Card>
		))}
		<div class="h-6"></div>
		<h2 class="text-center">Vita</h2>
		{vita.map((entry) => (
			<Card className='mb-3'>
				<Card.Body>
					<Image class='h-20 object-contain' src={entry.data.image} alt={entry.data.title}></Image>

					<Card.Title>{entry.data.title}</Card.Title>
					<Card.Text>{entry.data.endDate  + " - " + entry.data.startDate}</Card.Text>
					
				</Card.Body>
			</Card>
		))}
	</main>
</Layout>

